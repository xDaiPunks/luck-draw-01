/* The code for the first Lucky Draw on xDaiPunks
 * The draw array will be updated with public addresses from the google form
 */

const fs = require('fs');

const numberOfDraws = 5;
const numberOfContestants = 104;

// Punks that are in this draw
const xDaiPunkArray = ['#592', '#1447', '#1766', '#8709', '#8773'];

const drawArray = [
  '0x098850d7C5E3e42de90D1b2D9254bA01a6068405',
  '0x811d1E9897C99F6fcf35e294519E78FC08cd3e3a',
  '0xd1956badC7b9987be6057f88EcBa03F0Da1500CA',
  '0xfc726B864Df239244f113b5ef8141dd15BcD5f60',
  '0x0B01168b77425d8a4Df02F794d2ceD416EC6e7d4',
  '0x6A6388E71C27065D981bF434917928B5C5F36A8d',
  '0xe6361AB1D233904b900C69FbAFf807850DA7F4Eb',
  '0x03734CED01098F27F16f96e7e254b0a4Bb0266dC',
  '0x2b8Fcb480f1c426C276328Dc36C3543e73FC1EfD',
  '0xd8aa5A6d45e6904e8a3f024E6CD1427f2813d0FB',
  '0x664fD1a25ECa57A02cc1d8249dee839b9FD7f755',
  '0x6d49800F9EA7DE915177FcC029A70F0eE1B7D990',
  '0x8aA27E90E139d5AB5704df69429341cbCb2d2464',
  '0x20b84320a53acc4b35dbeb31053f4ccdb40849cf',
  '0x964f07B8c9EF10Efc3F0631b2aD46Ba50659efc8',
  '0xfEA6b31E5e39E23A4Eb6006C93C6B46454422d28',
  'rrdn***',
  '0xdd2A7225945CcD559795c46D3E8458e2D4C2c575',
  '0xABA70C36FA620DD5e6432e52EeD7F773B69EB555',
  '0x83C73d229084a2e226a33766aBea39f51e9a56AF',
  '0xF223aBfEc025fbdd0E7F35d36500c9fc8e49DD0f',
  '0xa1e872d4e51c6f149e75f8e3a7fb7bb578383500',
  '0xadfA9e97079a5177dC16e8E0F2201C455F127253',
  '0x2a1F44c30326fE0839e2F1cEa7D8748c4d20F478',
  '0x0405EdD14183E894BEc5cEa5b4938110A4D901dD',
  '0x76282a2d0371118Ec586C6c203005e090F365cDD',
  '0x887C871632EFF3945CeC8CEC70FD4898dbB84030',
  '0x18436468c2a6A717667D68ddeD502772709d57c5',
  '0xa5ed8DA239f400141427800DA33B602A039F2254',
  '0xe22cbcAA0324DfA1d83cB939239e11C306c9A03f',
  '0x1ED66C33A46D57172e675A5B0e2207A1cC0db018',
  '0xE446697826b2D4CE92cbDcac1D08990BbeA4C59B',
  '0x680144e95900B715215eD288423DE7cF5eAaFA2f',
  '0x2b587b1BfF4F006B7c19dc98c49AF5040903Ad2C',
  '0xcA2dead8B1EEE1B6809169a982eef01ABcE24078',
  'sunan***',
  '0x024eAc5dEc33a6215D509b64fc8DB0A6980786EB',
  '0xa10527Eb41AC372F2696a74Db82a153c6be3869C',
  '0x8209948e8D95AC1C777fdA113357cBeD68A0C408',
  '0x803F4B539Cb65f788d2a61302e8b869A559221ae',
  '0xfEA6b31E5e39E23A4Eb6006C93C6B46454422d28',
  '0xE760d7F7910dE454EAf95532e08dB67F0194AAdc',
  '0x0542e8F95f765B81cD6A08Db37d914F664Db5D3E',
  '0xA1e872D4e51C6f149E75F8E3a7fb7bB578383500',
  '0x0A540Da866171f8830418E49383e031ebf26a546',
  '0x49087eb6f9529EB02a508fB820D7b4d0b52E4881',
  '0x770752b48839c4d35b5157dAFc128b2662e6C0b4',
  '0x7101A39C053954e3E7fD010fDF3F6Ef6bDBCBde0',
  '0x9716Ff369914c68DD10B7eFE567Ff0b212d6d90a',
  '0x007d556b3cF8C1Eb89f6aAcf2E7d84b7f13B7bC9',
  '#1 Celebrating our 1 week anniversary! ',
  '0x0A540Da866171f8830418E49383e031ebf26a546',
  '0x98E71eD62286BB9B030D6FC7C4045923387c3CF8',
  '0x813B0B4F232444834CbaB5B4146eb8e48B6843Be',
  '0x813B0B4F232444834CbaB5B4146eb8e48B6843Be',
  '0x7d7d25B87C0698F90Da6F23F4686CbD0368be15f',
  '0xBC909F215c1b30F54c07C9592d01d16502Df25b0',
  '0xB34e1df2Be83618aABd9bA8C6277B11f6Ccd6b8b',
  '0x4d246e41D7131fF60cD533C13bD2aaFcE7aB1265',
  '0x4d246e41D7131fF60cD533C13bD2aaFcE7aB1265',
  '0xC72f1a608b065A6CCD9eC3b4BbFF5221554B8225',
  '0xf47Ec7c789b52a82F5Ca312244ddafd1A91EE55C',
  '0x4BE1E47eDb3034Fc682E45E7CF9E2439fb3db623',
  '0x41C54Ec24fA2786c44DB9b7A7ca5e78f10F6eCa9',
  '0xD8871799AD509F29C9521e1C9351e4D783Ab0667',
  '0x4Ef6e943C0E6c4C0EC39aFDFd0C141b6c5D5AC9b',
  '0x1c85d6Ae1336D0e4E3F165bbfA9641bfA04CeDb1',
  '0x8Ad048Bb32c725896f5aCA05cc8f0539c97aDDd5',
  '0x9B1F6e80b6Bbcd917E915dE666081ab93906129C',
  '0x70723a76ad8Ca6F88200B255F3E249bd937ed6E3',
  '0x564156F34b6D0B6E2758611FAf6C2ff8C8EA8ED7',
  '0xF82ce7B9692a32C27FE5477b6C85F163f2920eEA',
  '0xc99C01351ad5a9DfcaD6c6D70003f490BcC353CA',
  '0x6861846E08A1aC49D0a6Cf9e3FfFb551F991DfD5',
  '0xdB4dFDF527C53a176E7320b2Bd6df5339649baf3',
  '0x774cE9C99354c5c44252d4B135AD06C389C08293',
  '0x521513f83bc381F8a91B7412c69CdE6ae3ACB0A1',
  '0xF42C21b4D26945D0B7472c67947E47aF350607F5',
  '0x5EDC1237b3AF4219c060A143613559dA18c2DacB',
  '0xc43ab8753774543D62373F95F4e4d6bd591cDc2b',
  '0xB42b39d1f05ed50b05Cada2e63ee5C7633e864D7',
  '0x0D5a44aa4507D44C2f8E3FCA30269ED81b99F2a7',
  '0x6dCE03b6474782a54fF777323e0B18dCB85e25E9',
  '0x41B1EEa20Ea156cA66B8A9F96B8Da48B91F21B1E',
  '0x2B30A0E81FBFfa20041c070285017b1e6fFB5892',
  '0x74b12BC6f551eF962EA6a7A750F8aD0c6c45Fb5C',
  '0x18A517dcAB03DAA1FA7BBcEb6dA0FC53fBEe1434',
  '0x5b409659c3782F81c07bFb5554A66d9775a156B7',
  '0x396C7FBd3416c52320411620D3a75e7434c60D89',
  '0x560F58DC8eF925e14369675D6A01dE3d67902484',
  '0x08670Bf90e6cbA63A83dbAa32Bae310b1cC524D0',
  '0x3aD08771E6Db7966B79ea2587925Be1Aa2236D4d',
  '0xA9E5a0D5A9A671C158171b8dc6B5618399275878',
  '0x95aBB3A8b90CEdB9dB0538f8b51fb58bEB132355',
  '0x18a66abDf2f6b7b7613233e99f80C00b3B45Ddde',
  '0xaD480CA4566de73ae3DdB78213180DF731A1fD98',
  '0x2864be4B616BCde06a635776DfB4CCcA3D2a0Ed0',
  '0x208Cb778d94f0958FDC19B366873b1568f35dD8d',
  '0xD3655dBabA39e118C3998d11114b8f7268beF98e',
  '0xBFA8e1b7aAc0b5Fd442DC7C9A0089413A616776D',
  '0x30306DFcCf90D5B9FE4f2162A5081aEb72E849DF',
  '0x9f6f6b8ddb33c32423807e2121e57327ba3be31b',
  '0x5F0218Ff36f49f34918d3356BfD690AD943035a1',
  '0x40596F3cb945d4f72f84F1e3227d74D0f43Dc422',
  '0x98905d8B65A24bcE11D2915c9A5C526E62F80000',
  '0x5a9016DBB0b9D366A328DaAA28D316C104fa0956',
  '0xd3ACe05D8b7E173862bAf5d415bCf8d2cFd8d0FE',
  '0xffe885E77Fd52cc2821AD2B7Eef0051c53f4930E',
  '0x2Ea8f3B99AD497358D41C5A1B2Ec4b38f58c0401',
  '0x394C1a36627811a32A97C920DB029b951b988a5c',
  '0xB52FCFf3045b7E9a241b0894C835DA8842a19787',
  '0x24710809b3CFA3252b26Fd5F5826Ea286260d62f'
];

const randomArray = shuffleArray(drawArray);
const randomPunkArray = shuffleArray(xDaiPunkArray);

const drawResult = randomArray.slice(0, numberOfDraws);

const finalResult = [];
for (let i = 0, iCount = drawResult.length; i < iCount; i++) {
  finalResult.push({ index: drawResult[i], awardedPunk: randomPunkArray[i] });
}

console.log('In xDaiPunk style, The winners are', finalResult);
fs.writeFileSync('finalResults.json', JSON.stringify(finalResult));
console.log(fs.readFileSync('finalResults.json', 'utf8'));

// Randomize array in-place using Durstenfeld shuffle algorithm
function shuffleArray(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }

  return array;
}
